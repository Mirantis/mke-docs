---
title: Known issues
weight: 2
---

This section describes the MKE 4 known issues with available workarounds.

## [BOP-708] OIDC authentication fails after mkectl upgrade

Due to an issue with client secret migration, OIDC authentication fails
following an upgrade performed with `mkectl`.

**Workaround:**

1. Copy the MKE 4 configuration that prints at the end of migration.

2. Update the `authentication.oidc.clientSecret` field to the secret field
   from your identity provider.

3. Apply the updated MKE 4 configuration.

## [BOP-879] External Address flag is ignored when upgrading from a single manager MKE cluster

When you upgrade a single-manager MKE 3 cluster, the `--external-address` flag of the `mkectl upgrade` 
command is ignored.

**Workaround:**

1. Open for editing the MKE 4 configuration file that is generated by `mkectl upgrade`
   at the end of upgrade.
2. Define the external address in the `apiServer.externalAddress` field as required:

   ```yaml
   apiServer:
     externalAddress: "mke.example.com"
   ```

3. Apply the configuration change:

   ```sh
   mkectl apply
   ```

## Upgrade from MKE 3 in eBPF mode terminates with fatal error

The following message displays when you attempt to upgrade from MKE 3 to MKE 4
in eBPF mode:

```sh
FATA[0640] Upgrade failed due to error: failed to run step [Upgrade Tasks]: unable to install BOP: unable to apply MKE4 config: failed to wait for pods: failed to wait for pods: failed to list pods: client rate limiter Wait returned an error: context deadline exceeded
```
